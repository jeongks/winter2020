<!DOCTYPE html>
<html lang="en-us">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial scale=1, viewport-fit=cover">
    <title>Preston: JK Good Weather</title>

    <link rel="shortcut icon" href="favicon.ico">
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/small.css">
    <link rel="stylesheet" href="css/medium.css">
    <link rel="stylesheet" href="css/large.css">


    <script type="text/javascript" src="js/menuToggle.js" defer></script>
    <scritp src="js/windchil.js"></scritp>
    <script src="js/prestonweather.js"></script>
    <script src="js/scripts.js"></script>

</head>

<body>
    <div id="wrapper">
        <div id="headerWrapper">
            <header class="clearfix">
                <a href="index.html"><img src="images/logo.png" alt="logo"></a>
                <h1 id="sitename">JK good Weather</h1>
                <h2 id="siteslogan">Your weather friend</h2>
            </header>
        </div>

        <div id="navWrapper">
            <nav class="clearfix">
                <button onclick="toggleMenu()">&#9776;</button>
                <ul class="hide" id="primaryNav">
                    <li><a href="index.html">Home</a></li>
                    <li class="active"><a href="preston.html">Preston</a></li>
                    <li><a href="franklin.html">Franklin</a></li>
                    <li><a href="fish.html">Fish Haven</a></li>
                    <li><a href="storm.html">Storm Center</a></li>
                    <li><a href="gallery.html">Gallery</a></li>
                </ul>
            </nav>
        </div>

        <main>
            <!-- <div id="message">
                <h6>Saturday = Preston Pancakes in the Park! 9:00 a.m. Saturday at the city park pavilion.</h6>
            </div> -->
            <div class="mainwrapper">
                <h1><span id="townname"></span></h1>


                <div id="forecast">

                </div>

                <div class="container">
                    <div id="banner">
                        <picture>
                            <source media="(max-width: 200px" srcset="images/preston200.jpg">
                            <source media="(max-width: 500px" srcset="images/preston500.jpg">
                            <source media="(max-width: 800px" srcset="images/preston800.jpg">

                            <img src="images/preston.jpg" alt="preston">
                        </picture>
                    </div>
                    <div id="text-block">

                    </div>
                </div>

                <div class="events">

                </div>


            </div>
        </main>
        <div id="footerWrapper">
            <footer>
                &copy; Kisuk Jeong &bullet; <span id="date"></span>
            </footer>
        </div>
    </div>
    <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js">
    </script>



    <script>
        const eventURL = "https://byui-cit230.github.io/weather/data/towndata.json";
        fetch(eventURL)
            .then(function (response) {
                return response.json();
            })
            .then(function (jsonObject) {
                console.table(jsonObject);
                const towns = jsonObject['towns'];



                let card = document.createElement('div');
                card.className = "event";
                let eventcard = document.createElement('section');


                let h2 = document.createElement('h2');
                let event1 = document.createElement('p');
                let event2 = document.createElement('p');
                let event3 = document.createElement('p');



                h2.textContent = towns[0].name + "Upcoming Event";
                event1.textContent = towns[0].events[0];
                event2.textContent = towns[0].events[1];
                event3.textContent = towns[0].events[2];



                eventcard.appendChild(h2);
                eventcard.appendChild(event1);
                eventcard.appendChild(event2);
                eventcard.appendChild(event3);

                card.appendChild(eventcard);




                document.querySelector('div.events').appendChild(card);


            });
    </script>

</body>

</html>